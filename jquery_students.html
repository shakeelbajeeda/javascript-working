<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link data-rh="true" rel="icon" href="user.jfif">
    <title>Students</title>
    <style>
        .box-shadow {
            box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <h2 class="text-center pt-2">Student Record</h2>
        <div class="container edit">
            <div class="row pt-3" id="main_div">
                <div class="col-lg-3 col-md-4">
                    <div class="box-shadow px-2 py-3 mt-3">
                        <form>
                            <div class="pt-3 pt-2">
                                <label for="std-name" class="form-label h6">Student Name</label>
                                <input type="text" class="form-control" id="std_name" placeholder="Enter Student Name" name="">
                            </div>
                            <div class="pt-3">
                                <label for="f_name" class="form-label h6">Father Name</label>
                                <input type="text" class="form-control" id="f_name" placeholder="Enter Father Name" name="">
                            </div>
                            <div class="pt-3">
                                <label for="phone" class="form-label h6">Phone No</label>
                                <input type="text" class="form-control" id="phone" placeholder="i.e. 03019115376" name="">
                            </div>
                            <div class="pt-3">
                                <label for="" class="form-label h6" id="gender">Gender</label><br>
                                <label>
                                    <input type="radio" name="gender" value="Male">
                                    Male</label>
                                <label class="mx-3">
                                    <input type="radio" name="gender" value="Female">
                                    Female
                                </label>
                            </div>
                            <div class="pt-3">
                                <label class="form-label h6">Program</label><br>
                                <select class="form-select" id="program">
                                    <option selected>select program</option>
                                    <option value="BS-IT">BS-IT</option>
                                    <option value="BS-CS">BS-CS</option>
                                    <option value="BS-SE">BS-SE</option>
                                </select>
                            </div>
                            <div class="pt-3">
                                <label for="phone" class="form-label h6">Enter Marks</label>
                                <input type="text" class="form-control" id="std_marks" placeholder="Enter Marks" name="">
                            </div>
                            <div class="pt-3">
                                <label class="form-label h6">Grade</label>
                                <select class="form-select" id="grade">
                                    <option selected>select grade</option>
                                    <option value="A+">A+</option>
                                    <option value="A">A</option>
                                    <option value="B+">B+</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="F">F</option>
                                </select>
                            </div>
                            <div class="pt-3">
                                <label class="form-label h6">Status</label><br>
                                <select class="form-select pt-1" id="status">
                                    <option selected>select</option>
                                    <option value="Pass">Pass</option>
                                    <option value="Fail">Fail</option>
                                </select>
                            </div>
                            <div class="pt-3">
                                <label for="" class="form-label h6">Institute</label>
                                <input type="" class="form-control" id="Institute" placeholder="Enter Institute" name="">
                            </div>
                            <div class="pt-3 pb-5">
                                <button type="button" class="btn btn-primary float-end mt-3" id="add_new_div">Add+</button>
                                <button style="display:none;" type="button" class="btn btn-primary float-end mt-3" id="update_btn" onclick="update_form()">Update</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div><br>
        </div>
    </div>
    <script>
    let finder;

    function remove_div(e) {
        $(e).parents(".box").remove();
    };

    $("#add_new_div").click(function() {
        let student_name = $('#std_name').val();
        let father_name = $('#f_name').val();
        let phone_no = $('#phone').val();
        var gender = $("input[name='gender']:checked").val();
        var program = $('#program').find(":selected").val();
        let marks = $('#std_marks').val();
        var grade = $('#grade').find(":selected").val();
        var status = $('#status').find(":selected").val();
        let Institute = $('#Institute').val();

        if (student_name != '' && father_name != '' && phone_no != '' && gender != '' && program != '' && marks != '' && grade != '' && status != '' && Institute != '') {

            $('#main_div').append('<div class="col-lg-3 col-md-4 box"> <div class="box-shadow py-2 pb-5 mt-3 ps-3 pe-1"> <div class="btn-group float-end"> <button type="button" class="btn btn-info text-light" onclick="edit_data(this)"><i class="fa fa-edit"></i></button> <button type="button" class="btn btn-danger" onclick="remove_div(this)"><i class="fa fa-trash"></i></button> </div><br><div> <p class="fw-bold">Student Name</p><p class="student_name">' + student_name + '</p><p class="fw-bold">Father Name</p><p class="father_name">' + father_name + '</p><p class="fw-bold">Phone No</p><p class="phone_no">' + phone_no + '</p><p class="fw-bold">Gender</p><p class="gender">' + gender + '</p><p class="fw-bold">Program</p><p class="program">' + program + '</p><p class="fw-bold">Marks</p><p class="marks">' + marks + '</p><p class="fw-bold">Grade</p><p class="grade">' + grade + '</p><p class="fw-bold">Status</p><p class="status">' + status + '</p><p class="fw-bold">Institute</p><p class="pb-4 Institute">' + Institute + '</p></div></div></div>')
        } else {
            alert('Please fill all the fields')
        }
    });

    function edit_data(event) {
        finder = $(event).closest('.box');
        let student_name, father_name, phone_no, gender, program, marks, grade, status, Institute;

        student_name = finder.find('.student_name').text();
        father_name = finder.find('.father_name').text();
        phone_no = finder.find('.phone_no').text();
        gender = finder.find('.gender').text();
        program = finder.find('.program').text();
        marks = finder.find('.marks').text();
        grade = finder.find('.grade').text();
        status = finder.find('.status').text();
        Institute = finder.find('.Institute').text();

        $('#std_name').val(student_name);
        $('#f_name').val(father_name);
        $('#phone').val(phone_no);
        $("input[name=gender][value=" + gender + "]").prop("checked", true);
        $('#program option[value=' + program + ']').prop('selected', true);
        $('#std_marks').val(marks);
        $('#grade option[value="' + grade + '"]').prop('selected', true);
        $('#status option[value=' + status + ']').prop('selected', true);
        $('#Institute').val(Institute);
        $("#add_new_div").hide();
        $("#update_btn").show();
        $(".box-shadow").css("background", "white");
        finder.children(".box-shadow").css("background", "rgb(0 0 0 / 18%)");

    }

    function update_form() {
        let student_name, father_name, phone_no, gender, program, marks, grade, status, Institute;

        student_name = $('#std_name').val();
        father_name = $('#f_name').val();
        phone_no = $('#phone').val();
        gender = $("input[name='gender']:checked").val();
        program = $('#program').find(":selected").val();
        marks = $('#std_marks').val();
        grade = $('#grade').find(":selected").val();
        status = $('#status').find(":selected").val();
        Institute = $('#Institute').val();
        if (student_name != '' && father_name != '' && phone_no != '' && gender != '' && program != '' && marks != '' && grade != '' && status != '' && Institute != '') {

            finder.find('.student_name').text(student_name);
            finder.find('.father_name').text(father_name);
            finder.find('.phone_no').text(phone_no);
            finder.find('.gender').text(gender);
            finder.find('.program').text(program);
            finder.find('.marks').text(marks);
            finder.find('.grade').text(grade);
            finder.find('.status').text(status);
            finder.find('.Institute').text(Institute);
            $("#update_btn").hide();
            $("#add_new_div").show();
            finder.children(".box-shadow").css("background", "white");

        } else {
            alert('Please fill all the fields')
        }


    }
    </script>
</body>

</html>